@page
@{
    ViewData["Title"] = "فحص البضائع PDF";
}

<div id="app">

    <!-- محتوى الـ PDF فقط -->
    <div id="content">

        <!-- الصفحة الأولى -->
        <section class="print-area">

            <header class="top-header">
                <div>اسم الجهة: كلية الزراعة - جامعة الزقازيق</div>
                <div>نموذج رقم (12)</div>
            </header>

            <h2 class="title">محضر لجنة الفحص</h2>

            <p style="text-align:right"  class="text">
                اليوم ..............
                الموافق....../......./..........
               
                اجتمعت لجنة الفحص المشكلة بالقرار رقم
                (<strong>{{ state.committeeDesionNumber }}</strong>)
                الصادر بتاريخ <strong>{{ state.commiteeDate }} </strong>
            </p>

            <p style="text-align:right" v-if="chairman" >
                <strong>برئاسة السيد / {{ chairman.employeePositionName }}  </strong>
                {{ chairman.employeeName }}
                 
            </p>

            <br />
            <p style="text-align:right"><strong>وعضوية كل من:</strong></p>


            <div class="committee">
                <p v-for="(member,index) in members" :key="index">
                    السيد / {{ member.employeeName }}
                    — الوظيفة: {{ member.employeePositionName }}
                </p>
            </div>


            


            <p class="paragraph">
                وقد قامت اللجنة بفحص الأصناف المدرجة في ظهره بالنسبة المئوية ووفقا لما أرتائه من القبول او الرفض والاسباب المبينة قرين كل صنف وذلك علي مقتضي امر التوريد الصادر الي ......... برقم () بتاريخ ..... وبالمواصفات المنصوص عليها بكراسة الشروط والمواصفات والعقد المبرم مع المورد وبحضور / وعدم حضور المورد او مندوبه .
            </p>

            <div class="signatures">
                <div>
                    <strong>رئيس اللجنة</strong><br>
                    الاسم: .................................<br>
                    التوقيع: ...............................
                </div>
                <div>
                    <strong>عضو اللجنة</strong><br>
                    الاسم: .................................<br>
                    التوقيع: ...............................
                </div>
            </div>

        </section>

        <!-- الصفحة الثانية -->
        <section class="print-area">

            <table class="inspection-table">
                <thead>
                    <tr>
                        <th>اسم الصنف ومواصفاته</th>
                        <th>الكمية</th>
                        <th>الوحدة</th>
                        <th>نسبة المطابقة</th>
                        <th>مقبول</th>
                        <th>مرفوض</th>
                        <th>الأسباب</th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for="(item,index) in state.mappedItems" :key="index">
                        <td>{{ item.product }}</td>
                        <td>{{ item.qty }}</td>
                        <td>{{ item.unit }}</td>
                        <td>{{ item.matchPercent }}</td>
                        <td class="check">{{ item.accepted ? '✔' : '' }}</td>
                        <td class="check">{{ item.rejected ? '✔' : '' }}</td>
                        <td>{{ item.reason }}</td>
                    </tr>
                </tbody>
            </table>

            <footer class="footer-sign">
                <div>رئيس لجنة الفحص</div>
                <div>أعضاء اللجنة</div>
            </footer>

        </section>

    </div>

    <!-- زر خارج الطباعة -->
    <button v-on:click="handler.downloadPDF" class="pdf-btn">
        تحميل PDF
    </button>


</div>
<style>
    .print-area {
        width: 210mm;
        min-height: 297mm;
        padding: 20mm;
        font-family: "Times New Roman", serif;
        font-size: 15px;
        direction: rtl;
        page-break-after: always;
    }

    .top-header {
        display: flex;
        justify-content: space-between;
        font-weight: bold;
        border-bottom: 2px solid #000;
        padding-bottom: 8px;
        margin-bottom: 25px;
    }

    .title {
        text-align: center;
        text-decoration: underline;
        font-size: 20px;
        margin-bottom: 25px;
    }

    .text {
        line-height: 1.9;
        margin: 12px 0;
    }

    .paragraph {
        margin-top: 25px;
        line-height: 2;
        text-align: justify;
    }

    .committee p {
        margin-right: 25px;
        margin-bottom: 8px;
    }

    .signatures {
        display: flex;
        justify-content: space-between;
        margin-top: 70px;
    }

        .signatures div {
            width: 45%;
            text-align: center;
        }

    .inspection-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 10px;
    }

        .inspection-table th,
        .inspection-table td {
            border: 1px solid #000;
            padding: 8px;
            font-size: 14px;
            text-align: center;
        }

        .inspection-table th {
            background-color: #f2f2f2;
            font-weight: bold;
        }

    .check {
        font-size: 18px;
        font-weight: bold;
    }

    .footer-sign {
        display: flex;
        justify-content: space-between;
        margin-top: 45px;
        font-weight: bold;
    }

    .pdf-btn {
        margin: 20px;
        padding: 10px 25px;
        font-size: 16px;
        cursor: pointer;
    }

    .committee,
    .committee p {
        text-align: right;
    }

    .chairman {
        text-align: right;
    }

</style>

@section scripts {
    <script src="~/FrontEnd/Pages/GoodsExamine/GoodsExaminePdf.cshtml.js"></script>
}
